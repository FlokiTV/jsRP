var I=Object.defineProperty;var S=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var L=(i,t,e)=>t in i?I(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,T=(i,t)=>{for(var e in t||(t={}))V.call(t,e)&&L(i,e,t[e]);if(S)for(var e of S(t))x.call(t,e)&&L(i,e,t[e]);return i};import{S as $,i as q,s as z,e as b,c as y,a as w,d as u,b as d,g as k,n as M,K as v,f as B,x as J,y as P,z as G,r as g,p as E,C as K,k as U,m as Q,J as W,q as X,w as Y,o as Z}from"../chunks/index-92fe9422.js";import{g as tt}from"../chunks/navigation-0e6511d1.js";import"../chunks/singletons-d1fb5791.js";const m={RES_NAME:"",debug:!0,css:[""],events:{}};function et(i){m.RES_NAME=i}function _(...i){console.log(i)}function D(i){if(!m.css.filter(e=>e==i).length){_("addCSS");let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",i),m.css.push(i),document.getElementsByTagName("head")[0].appendChild(e)}}function F(i,t=!1){var e=document.createElement("script");e.setAttribute("src",i),t&&(e.onload=t),document.body.appendChild(e)}async function j(i,t){return await fetch(`https://${m.RES_NAME}/${i}`,{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)}).then(e=>e.text()).then(e=>_(e))}function ot(i,t){m.events[i]=t}function nt(i={}){const t=document.querySelector("body");window.addEventListener("message",function(e){e.data.show!=null&&(e.data.show?t.style.opacity=1:t.style.opacity=0),e.data.goto!=null&&(_("/nui"+e.data.goto),tt("/nui"+e.data.goto)),e.data.addcss!=null&&D(e.data.addcss),e.data.addscript!=null&&F(e.data.addscript),Object.keys(m.events).forEach(o=>{e.data[o]!=null&&(_("trigger on "+o),m.events[o](e.data[o]))}),Object.keys(i).forEach(o=>{e.data[o]!=null&&(_("trigger "+o),i[o](e.data[o]))})})}function H(i,t,e){const o=i.slice();return o[3]=t[e],o}function A(i){let t,e=i[3].text+"";return{c(){t=b("div"),this.h()},l(o){t=y(o,"DIV",{class:!0});var r=w(t);r.forEach(u),this.h()},h(){d(t,"class","mb-2")},m(o,r){k(o,t,r),t.innerHTML=e},p(o,r){r&1&&e!==(e=o[3].text+"")&&(t.innerHTML=e)},d(o){o&&u(t)}}}function it(i){let t,e,o=i[0],r=[];for(let a=0;a<o.length;a+=1)r[a]=A(H(i,o,a));return{c(){t=b("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){t=y(a,"DIV",{class:!0});var c=w(t);for(let s=0;s<r.length;s+=1)r[s].l(c);c.forEach(u),this.h()},h(){d(t,"class",e=i[1]())},m(a,c){k(a,t,c);for(let s=0;s<r.length;s+=1)r[s].m(t,null)},p(a,[c]){if(c&1){o=a[0];let s;for(s=0;s<o.length;s+=1){const h=H(a,o,s);r[s]?r[s].p(h,c):(r[s]=A(h),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=o.length}c&2&&e!==(e=a[1]())&&d(t,"class",e)},i:M,o:M,d(a){a&&u(t),v(r,a)}}}function at(i,t,e){let o,{notify:r}=t,{position:a}=t;return i.$$set=c=>{"notify"in c&&e(0,r=c.notify),"position"in c&&e(2,a=c.position)},i.$$.update=()=>{i.$$.dirty&4&&e(1,o=()=>{let c="absolute p-2 z-50 ",s="";switch(a){case"top":s="top-10 ab-center-w";break;case"bot":s="bottom-10 ab-center-w";break;case"topLeft":s="top-10 left-10";break;case"topRight":s="top-10 right-10";break;case"botRight":s="bottom-10 right-10";break;case"botLeft":s="bottom-10 left-10";break;default:s="bottom-10 right-10";break}return c+s})},[r,o,a]}class st extends ${constructor(t){super(),q(this,t,at,it,z,{notify:0,position:2})}}function C(i,t,e){const o=i.slice();return o[6]=t[e],o}function O(i,t,e){const o=i.slice();return o[9]=t[e],o[11]=e,o}function R(i){let t,e=i[0][i[9]].html+"",o,r;return{c(){t=b("div"),this.h()},l(a){t=y(a,"DIV",{id:!0,"data-nui":!0,class:!0,style:!0,"data-z":!0});var c=w(t);c.forEach(u),this.h()},h(){d(t,"id",o="nui-"+i[9]),d(t,"data-nui","true"),d(t,"class","absolute left-0 right-0 top-0 bottom-0"),B(t,"z-index",30+i[11]),d(t,"data-z",r=30+i[11])},m(a,c){k(a,t,c),t.innerHTML=e},p(a,c){c&1&&e!==(e=a[0][a[9]].html+"")&&(t.innerHTML=e),c&1&&o!==(o="nui-"+a[9])&&d(t,"id",o)},d(a){a&&u(t)}}}function N(i){let t,e;return t=new st({props:{notify:i[1][i[6]],position:i[6]}}),{c(){J(t.$$.fragment)},l(o){P(t.$$.fragment,o)},m(o,r){G(t,o,r),e=!0},p(o,r){const a={};r&2&&(a.notify=o[1][o[6]]),r&2&&(a.position=o[6]),t.$set(a)},i(o){e||(g(t.$$.fragment,o),e=!0)},o(o){E(t.$$.fragment,o),e=!1},d(o){K(t,o)}}}function lt(i){let t,e,o,r=Object.keys(i[0]),a=[];for(let n=0;n<r.length;n+=1)a[n]=R(O(i,r,n));let c=Object.keys(i[1]),s=[];for(let n=0;n<c.length;n+=1)s[n]=N(C(i,c,n));const h=n=>E(s[n],1,1,()=>{s[n]=null});return{c(){t=b("div");for(let n=0;n<a.length;n+=1)a[n].c();e=U();for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){t=y(n,"DIV",{class:!0});var f=w(t);for(let l=0;l<a.length;l+=1)a[l].l(f);e=Q(f);for(let l=0;l<s.length;l+=1)s[l].l(f);f.forEach(u),this.h()},h(){d(t,"class","h-screen flex flex-col justify-center items-center text-white")},m(n,f){k(n,t,f);for(let l=0;l<a.length;l+=1)a[l].m(t,null);W(t,e);for(let l=0;l<s.length;l+=1)s[l].m(t,null);o=!0},p(n,[f]){if(f&1){r=Object.keys(n[0]);let l;for(l=0;l<r.length;l+=1){const p=O(n,r,l);a[l]?a[l].p(p,f):(a[l]=R(p),a[l].c(),a[l].m(t,e))}for(;l<a.length;l+=1)a[l].d(1);a.length=r.length}if(f&2){c=Object.keys(n[1]);let l;for(l=0;l<c.length;l+=1){const p=C(n,c,l);s[l]?(s[l].p(p,f),g(s[l],1)):(s[l]=N(p),s[l].c(),g(s[l],1),s[l].m(t,null))}for(Z(),l=c.length;l<s.length;l+=1)h(l);X()}},i(n){if(!o){for(let f=0;f<c.length;f+=1)g(s[f]);o=!0}},o(n){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)E(s[f]);o=!1},d(n){n&&u(t),v(a,n),v(s,n)}}}function rt(i,t,e){et("jsrp-nui");let o={};const r=(n,f)=>{e(0,o[n]={html:f},o)},a=n=>{delete o[n],e(0,o)};let c={topLeft:[],topRight:[],botLeft:[],botRight:[]};const s=(n,f,l=5e3)=>{c[f].push({text:n,time:Date.now()+l})},h=()=>{Object.keys(c).forEach(n=>{c[n].forEach((f,l)=>{Date.now()>f.time&&c[n].splice(l,1)})}),e(1,c),requestAnimationFrame(h)};return Y(async()=>{requestAnimationFrame(h),window.emit=(n,f,l)=>{j("emit",T({to:n,path:f},l))},window.on=(n,f)=>{ot(n,f)},window.rmHTML=n=>{a(n)},window.addScript=F,window.addCSS=D,nt({notification:n=>{console.log(n),s(n.txt,n.position,n.time)},addHTML:n=>{a(n.name),r(n.name,n.html),n.eval&&setTimeout(()=>{let f=document.querySelector(`#nui-${n.name} script`);console.log(f),f?eval.call(window,f.innerHTML):console.log(`#nui-${n.name} script not found`)},500)},rmHTML:n=>{a(n.name)}}),await j("ready",{ready:!0})}),[o,c]}class ht extends ${constructor(t){super(),q(this,t,rt,lt,z,{})}}export{ht as default};
